<!-- header.html -->
<nav class="navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow" th:fragment="header">

    <!-- Sidebar Toggle (Topbar) SOLO UNO -->
    <button id="sidebarToggleTop" class="btn btn-link d-md-none rounded-circle mr-3">
        <i class="fa fa-bars"></i>
    </button>

    <!-- Topbar Navbar -->
    <ul class="navbar-nav ml-auto">

        <!-- User Info -->
        <li class="nav-item dropdown no-arrow">
            <a class="nav-link dropdown-toggle d-flex align-items-center" id="userDropdown" role="button"
               data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">

                <span 
                    class="mr-3 font-weight-bold text-gray-800" 
                    style="font-size: 1rem; letter-spacing: 0.5px;" 
                    th:text="${usuario.nombre}">
                    Usuario
                </span>

                <img th:if="${usuario.fotoPerfilBase64 != null}"
                     th:src="'data:image/jpeg;base64,' + ${usuario.fotoPerfilBase64}"
                     alt="Foto de perfil"
                     class="img-profile rounded-circle border border-primary shadow"
                     style="width: 55px; height: 55px; object-fit: cover;" />

                <img th:if="${usuario.fotoPerfilBase64 == null}"
                     src="/img/default.png"
                     alt="Foto de perfil por defecto"
                     class="img-profile rounded-circle border border-secondary shadow"
                     style="width: 55px; height: 55px; object-fit: cover;" />
            </a>

            <!-- Dropdown - User Info -->
            <div class="dropdown-menu dropdown-menu-right shadow animated--grow-in"
                 aria-labelledby="userDropdown">
                <a class="dropdown-item" th:href="@{/user/profile}">
                    <i class="fas fa-user fa-sm fa-fw mr-2 text-gray-400"></i>
                    Perfil
                </a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" th:href="@{/logout}">
                    <i class="fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"></i>
                    Cerrar sesi√≥n
                </a>
            </div>
        </li>

    </ul>

</nav>
